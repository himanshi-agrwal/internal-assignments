{"ast":null,"code":"var _jsxFileName = \"/home/himanshi/internal-assignments/src/SignUp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Auth } from \"aws-amplify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignUp = () => {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [waitingForCode, setWaitingForCode] = useState(false);\n  const [code, setCode] = useState(\"\");\n  const [cognitoID, setCognitoID] = useState(\"\");\n\n  const signUp = e => {\n    e.preventDefault();\n    Auth.signUp({\n      username: email,\n      password,\n      attributes: {\n        email,\n        'custom:firstName': firstName,\n        'custom:lastName': lastName\n      }\n    }).then(data => {\n      console.log(data);\n      setWaitingForCode(true);\n      setCognitoID(data[\"userSub\"]); // setPassword(\"\");\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const confirmSignUp = e => {\n    e.preventDefault();\n    Auth.confirmSignUp(email, code).then(data => {\n      console.log(data);\n      setWaitingForCode(false);\n      saveToDjango();\n      setEmail(\"\");\n      setPassword(\"\");\n      setFirstName(\"\");\n      setLastName(\"\");\n      setCode(\"\");\n      setPhoneNumber(\"\");\n      setAge(\"\");\n      setGender(\"\");\n    }).catch(err => console.log(err));\n  };\n\n  const resendCode = () => {\n    Auth.resendSignUp(email).then(() => {\n      console.log(\"code resent successfully\");\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const saveToDjango = () => {\n    fetch(\"http://localhost:8000/api/signup\", {\n      method: 'POST',\n      body: JSON.stringify({\n        email: email,\n        password: password,\n        cognito_id: cognitoID,\n        profile: {\n          first_name: firstName,\n          last_name: lastName,\n          phone_number: phoneNumber,\n          age: age,\n          gender: gender\n        }\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(data => {\n      console.log(data);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form\",\n    children: [!waitingForCode && /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"First name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"First name\",\n          value: firstName,\n          onChange: e => setFirstName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Last name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Last name\",\n          value: lastName,\n          onChange: e => setLastName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control\",\n          placeholder: \"Enter email\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          placeholder: \"Enter password\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Phone Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Enter Phone No.\",\n          value: phoneNumber,\n          onChange: e => setPhoneNumber(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Age\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Enter Age\",\n          value: age,\n          onChange: e => setAge(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Gender\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Enter Gender\",\n          value: gender,\n          onChange: e => setGender(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-block\",\n        onClick: signUp,\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"forgot-password text-right\",\n        children: [\"Already registered \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/sign-in\",\n          children: \"Sign In?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), waitingForCode && /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Enter code\",\n          value: code,\n          onChange: e => setCode(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-block\",\n        onClick: confirmSignUp,\n        children: \"Confirm Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary btn-block\",\n        onClick: resendCode,\n        children: \"Resend code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignUp, \"nTP7pL2SnSTJQXzYyTIOH8YBYzI=\");\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["/home/himanshi/internal-assignments/src/SignUp.js"],"names":["React","useState","Auth","SignUp","email","setEmail","password","setPassword","firstName","setFirstName","lastName","setLastName","phoneNumber","setPhoneNumber","age","setAge","gender","setGender","waitingForCode","setWaitingForCode","code","setCode","cognitoID","setCognitoID","signUp","e","preventDefault","username","attributes","then","data","console","log","catch","err","confirmSignUp","saveToDjango","resendCode","resendSignUp","fetch","method","body","JSON","stringify","cognito_id","profile","first_name","last_name","phone_number","headers","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Auth } from \"aws-amplify\";\n\nconst SignUp = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [waitingForCode, setWaitingForCode] = useState(false);\n  const [code, setCode] = useState(\"\");\n  const [cognitoID, setCognitoID] = useState(\"\");\n\n  const signUp = (e) => {\n    e.preventDefault();\n    \n    Auth.signUp({ username: email, password, \n        attributes: { email, 'custom:firstName': firstName, 'custom:lastName': lastName } })\n      .then((data) => {\n        console.log(data);\n        setWaitingForCode(true);\n        setCognitoID(data[\"userSub\"]);\n        // setPassword(\"\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const confirmSignUp = (e) => {\n    e.preventDefault();\n\n    Auth.confirmSignUp(email, code)\n      .then((data) => {\n        console.log(data);\n        setWaitingForCode(false);\n        saveToDjango();\n        setEmail(\"\");\n        setPassword(\"\");\n        setFirstName(\"\");\n        setLastName(\"\");\n        setCode(\"\");\n        setPhoneNumber(\"\");\n        setAge(\"\");\n        setGender(\"\");\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const resendCode = () => {\n    Auth.resendSignUp(email)\n      .then(() => {\n        console.log(\"code resent successfully\");\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n  const saveToDjango = () => {\n    fetch(\"http://localhost:8000/api/signup\",{\n      method: 'POST',\n      body: JSON.stringify({\n        email:email,\n        password: password,\n        cognito_id: cognitoID,\n        profile: {\n                first_name : firstName,\n                last_name: lastName,\n                phone_number: phoneNumber,\n                age: age,\n                gender: gender\n        }\n      }),\n      headers: {\n          'Content-Type': 'application/json'\n      }\n    }).then((data) => {console.log(data)})\n      .catch((e) => {console.log(e)});\n  };\n  \n  return (\n    <div className=\"form\">\n      {!waitingForCode && (\n            <form>\n            <h3>Sign Up</h3>\n            <div className=\"form-group\">\n                <label>First name</label>\n                <input type=\"text\" className=\"form-control\" placeholder=\"First name\" value={firstName} onChange={(e) => setFirstName(e.target.value)}/>\n            </div>\n\n            <div className=\"form-group\">\n                <label>Last name</label>\n                <input type=\"text\" className=\"form-control\" placeholder=\"Last name\" value={lastName} onChange={(e) => setLastName(e.target.value)}/>\n            </div>\n\n            <div className=\"form-group\">\n                <label>Email address</label>\n                <input type=\"email\" className=\"form-control\" placeholder=\"Enter email\" value={email} onChange={(e) => setEmail(e.target.value)}/>\n            </div>\n\n            <div className=\"form-group\">\n                <label>Password</label>\n                <input type=\"password\" className=\"form-control\" placeholder=\"Enter password\" value={password} onChange={(e) => setPassword(e.target.value)}/>\n            </div>\n            <div className=\"form-group\">\n                <label>Phone Number</label>\n                <input type=\"text\" className=\"form-control\" placeholder=\"Enter Phone No.\" value={phoneNumber} onChange={(e) => setPhoneNumber(e.target.value)}/>\n            </div>\n            <div className=\"form-group\">\n                <label>Age</label>\n                <input type=\"text\" className=\"form-control\" placeholder=\"Enter Age\" value={age} onChange={(e) => setAge(e.target.value)}/>\n            </div>\n            <div className=\"form-group\">\n                <label>Gender</label>\n                <input type=\"text\" className=\"form-control\" placeholder=\"Enter Gender\" value={gender} onChange={(e) => setGender(e.target.value)}/>\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary btn-block\" onClick={signUp}>Sign Up</button>\n            <p className=\"forgot-password text-right\">\n                Already registered <a href=\"/sign-in\">Sign In?</a>\n            </p>\n        </form>\n\n      )}\n      {waitingForCode && (\n        <form>\n            <div className=\"form-group\">\n                <label>Code</label>\n                <input type=\"text\" className=\"form-control\" placeholder=\"Enter code\" value={code} onChange={(e) => setCode(e.target.value)}/>\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary btn-block\" onClick={confirmSignUp}>\n            Confirm Sign Up\n          </button>\n          <button type=\"button\" className=\"btn btn-primary btn-block\" onClick={resendCode}>\n            Resend code\n          </button>\n        </form>\n      )}\n    </div>\n  );\n};\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}