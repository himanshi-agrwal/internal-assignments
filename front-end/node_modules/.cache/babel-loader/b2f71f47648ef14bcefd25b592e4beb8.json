{"ast":null,"code":"var _jsxFileName = \"/home/himanshi/internal-assignments/src/SignIn.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Auth } from \"aws-amplify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignIn = () => {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [idToken, setIdToken] = useState(\"\");\n\n  const signIn = e => {\n    e.preventDefault();\n    Auth.signIn({\n      username: email,\n      password\n    }).then(user => {\n      // setIdToken(user[\"signInUserSession\"][\"idToken\"][\"jwtToken\"]);\n      fetchData(user[\"signInUserSession\"][\"idToken\"][\"jwtToken\"]);\n      setEmail(\"\");\n      setPassword(\"\");\n      console.log(user);\n      console.log(idToken);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const fetchData = token => {\n    fetch(\"http://localhost:8000/api/profile\", {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(data => {\n      console.log(data);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control\",\n          placeholder: \"Enter email\",\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          placeholder: \"Enter password\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-block\",\n        onClick: signIn,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"forgot-password text-right\",\n        children: [\"Not registered \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/sign-up\",\n          children: \"Sign Up?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignIn, \"riHYA17gzW5omTHKP4HKP/DlBPc=\");\n\n_c = SignIn;\nexport default SignIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"sources":["/home/himanshi/internal-assignments/src/SignIn.js"],"names":["React","useState","Auth","SignIn","email","setEmail","password","setPassword","idToken","setIdToken","signIn","e","preventDefault","username","then","user","fetchData","console","log","catch","err","token","fetch","method","headers","data","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Auth } from \"aws-amplify\";\nconst SignIn = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [idToken, setIdToken] = useState(\"\");\n\n  const signIn = (e) => {\n    e.preventDefault();\n\n    Auth.signIn({\n      username: email,\n      password,\n    })\n      .then((user) => {\n        // setIdToken(user[\"signInUserSession\"][\"idToken\"][\"jwtToken\"]);\n        fetchData(user[\"signInUserSession\"][\"idToken\"][\"jwtToken\"]);\n        setEmail(\"\");\n        setPassword(\"\");\n        console.log(user);\n        console.log(idToken);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const fetchData = (token) => {\n    fetch(\"http://localhost:8000/api/profile\",{\n      method: 'GET',\n      headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}` ,\n      }\n    }).then((data) => {console.log(data)})\n      .catch((e) => {console.log(e)});\n  };\n\n  return (\n    <div className=\"form\">\n        <form>\n                <h3>Sign In</h3>\n\n                <div className=\"form-group\">\n                    <label>Email address</label>\n                    <input type=\"email\" className=\"form-control\" placeholder=\"Enter email\" onChange={(e) => setEmail(e.target.value)}/>\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Password</label>\n                    <input type=\"password\" className=\"form-control\" placeholder=\"Enter password\" onChange={(e) => setPassword(e.target.value)}/>\n                </div>\n\n                <button type=\"submit\" className=\"btn btn-primary btn-block\" onClick={signIn}>Submit</button>\n                <p className=\"forgot-password text-right\">\n                    Not registered <a href=\"/sign-up\">Sign Up?</a>\n                </p>\n            </form>\n\n    </div>\n  );\n};\n\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}